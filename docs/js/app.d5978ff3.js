(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/analoggame-recorder/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0ad7":function(t,e,a){"use strict";var n=a("d919"),r=a.n(n);r.a},"1f01":function(t,e,a){},"33b0":function(t,e,a){"use strict";var n=a("dc8c"),r=a.n(n);r.a},"4bea":function(t,e,a){t.exports=a.p+"img/close_icon.56d68665.png"},"4eef":function(t,e,a){"use strict";var n=a("1f01"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",id:"header"}},[n("div",{staticClass:"d-flex align-center"},[n("router-link",{attrs:{to:"/"}},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"AnalogGame-Recorder Logo",contain:"",src:a("cf05"),transition:"scale-transition",height:"40",width:"40"}})],1)],1),n("v-spacer",[n("div",{attrs:{align:"center",justify:"center",color:"secondary"}},[t._v(" "+t._s(this.pageTitle)+" ")])]),n("div",{staticClass:"d-flex justify-end"},["/Main"==this.$route.path?n("v-img",{attrs:{alt:"write icon",src:a("c75f"),transition:"scale-transition",width:"30",contain:"",id:"writeIcon"},on:{click:t.addData}}):t._e(),"/"!=this.$route.path&&"/Main"!=this.$route.path?n("v-img",{attrs:{alt:"write icon",src:a("4bea"),transition:"scale-transition",width:"30",contain:"",id:"writeIcon"},on:{click:t.back}}):t._e()],1)],1),n("router-view"),n("v-dialog",{model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[n("v-card",[n("v-card-title",{staticClass:"headline"}),n("v-card-text",[t._v("新規でデータを作成しますか？")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:t.createAction}},[t._v("新規作成")]),1!=t.newData?n("v-btn",{attrs:{color:"warning"},on:{click:t.editAction}},[t._v("編集")]):t._e()],1)],1)],1)],1)},s=[],o=(a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"px-0"},[a("v-content",{staticClass:"pt-6",attrs:{id:"ranking"}},[a("Ranking")],1),a("v-content",{staticClass:"pt-0 px-2"},[a("Share")],1)],1)}),i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.gameDates,"return-object":""},on:{change:function(t){}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1)],1),t.resultOfDate?a("v-simple-table",{attrs:{"fixed-header":"",height:"auto"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{"white-space":"nowrap"},attrs:{width:"100"}},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Score")])])]),a("tbody",t._l(t.resultOfDate[t.gameDates.indexOf(t.selectedDate)].result,(function(e){return a("tr",{attrs:{id:"rank_tr"}},[a("td",{staticStyle:{"white-space":"nowrap"},attrs:{"min-width":"100"}},[t._v(t._s(e.name))]),a("td",{attrs:{id:"Score"}},[a("div",{attrs:{id:"ScoreDetail"}},[t._v(t._s(e.score))]),e.score>=0?a("div",{style:{width:t.graphSize(e.score)+"%"},attrs:{id:"Graph"}},[a("br")]):a("div",{style:{width:t.graphSize(e.score)+"%"},attrs:{id:"MinusGraph"}},[a("br")])])])})),0)]},proxy:!0}],null,!1,3511104506)}):t._e()],1)},l=[],d=(a("99af"),a("4160"),a("c975"),a("d81d"),a("13d5"),a("4e827"),a("b0c0"),a("4fad"),a("b64b"),a("159b"),a("3835")),u={data:function(){return{selectedDate:"総合",resultOfDate:"",gameDates:[],tournament:""}},mounted:function(){this.tournament=this.$route.params.tournament;var t=JSON.parse(this.$localStorage.get(this.tournament,"[]"));this.resultOfDate=h(t).concat(t),v(this.resultOfDate),this.gameDates=this.resultOfDate.map((function(t){return t.date}))},methods:{graphSize:function(t){var e=Math.max.apply(null,this.resultOfDate[this.gameDates.indexOf(this.selectedDate)].result.map((function(t){return Math.abs(t.score)})));return Math.abs(t)/e*100},ShareAction:function(){console.log("share action")}}},h=function(t){var e=t.map((function(t){return t.result})),a=e.reduce((function(t,e){var a=e.reduce((function(t,e){return t[e.name]=e.score,t}),{});return Object.keys(a).forEach((function(e){t[e]?t[e]+=a[e]:t[e]=a[e]})),t}),{}),n=[{date:"総合",result:Object.entries(a).map((function(t){var e=Object(d["a"])(t,2),a=e[0],n=e[1];return{name:a,score:n}}))}];return n},v=function(t){t.map((function(t){t.result=t.result.sort((function(t,e){return e.score-t.score}))}))},m=u,f=(a("4eef"),a("2877")),g=a("6544"),p=a.n(g),b=a("62ad"),x=a("a523"),D=a("0fd9"),k=a("b974"),_=a("1f4f"),y=Object(f["a"])(m,c,l,!1,null,null,null),w=y.exports;p()(y,{VCol:b["a"],VContainer:x["a"],VRow:D["a"],VSelect:k["a"],VSimpleTable:_["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"share"}},[1==t.CanShare()?a("div",[a("v-btn",{attrs:{color:"primary",block:""},on:{click:function(e){t.dialog=!0}}},[t._v("共有")])],1):t._e(),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("共有")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.ShareAction}},[t._v("画像を共有")]),a("v-btn",{attrs:{color:"success"},on:{click:t.DataShare}},[t._v("データを共有")])],1)],1)],1)],1)},S=[],V=(a("e25e"),a("951f")),T=a.n(V),U={data:function(){return{dialog:!1}},mounted:function(){},methods:{ShareAction:function(){this.dialog=!1;var t=parseInt(document.getElementById("ranking").style.paddingTop);document.getElementById("ranking").style.paddingTop,document.getElementById("ranking").clientHeight;console.log("share action"),document.getElementById("share").style.display="none",window.scrollTo(0,0),T()(document.body,{windowHeight:document.getElementsByTagName("body")[0].scrollHeight}).then((function(t){navigator.share?t.toBlob((function(t){var e=new File([t],"tmp.png",{type:"image/png"});navigator.share({text:"今回の結果",url:"",files:[e]}).then((function(){console.log("Share was successful."),document.getElementById("share").style.display="block"})).catch((function(t){console.log("Sharing failed",t),document.getElementById("share").style.display="block"}))})):(document.body.appendChild(t),document.getElementById("share").style.display="block")}))},CanShare:function(){return navigator.share,!0},DataShare:function(){this.dialog=!1;var t=this.$localStorage.get(this.$route.params.tournament,"[]");console.log("https://siogi0420.github.io/analoggame-recorder/?share_key=".concat(A(this.$route.params.tournament),"&share_data=").concat(A(t))),navigator.share&&navigator.share({url:"https://siogi0420.github.io/analoggame-recorder/?share_key=".concat(A(this.$route.params.tournament),"&share_data=").concat(A(t))}).then((function(){console.log("Share was successful.")})).catch((function(t){console.log("Sharing failed",t)}))}}};function A(t){return t=encodeURIComponent(t),t=RawDeflate.deflate(t),t=btoa(t),t=encodeURIComponent(t),t}var O=U,$=a("8336"),I=a("b0af"),B=a("99d9"),j=a("169a"),N=a("2fa4"),L=Object(f["a"])(O,C,S,!1,null,null,null),E=L.exports;p()(L,{VBtn:$["a"],VCard:I["a"],VCardActions:B["a"],VCardTitle:B["c"],VContainer:x["a"],VDialog:j["a"],VSpacer:N["a"]});var M={name:"App",components:{Ranking:w,Share:E},data:function(){return{}},mounted:function(){},methods:{addData:function(){console.log("add data")}}},P=M,F=(a("33b0"),a("a75b")),R=Object(f["a"])(P,o,i,!1,null,"088c9b5e",null),K=R.exports;p()(R,{VContainer:x["a"],VContent:F["a"]});var J={name:"App",data:function(){return{edit:!1,newData:!1,pageTitle:""}},mounted:function(){},watch:{$route:function(t,e){t.params.newTournament?this.newData=!0:this.newData=!1,"/"==this.$route.path?this.pageTitle="AnalogGame Recorder":this.$route.params.tournament&&(this.pageTitle=this.$route.params.tournament)}},methods:{addData:function(){this.edit=!0},back:function(){console.log(this.$route.params.tournament),this.$router.push({name:"Main",params:{tournament:this.$route.params.tournament}})},createAction:function(){this.edit=!1,this.$router.push({name:"Input",params:{tournament:this.$route.params.tournament}})},editAction:function(){this.edit=!1,console.log("edit action"),console.log(this.$route.params.tournament),this.$router.push({name:"Edit",params:{tournament:this.$route.params.tournament}})},returnTop:function(){this.$router.replace("/")}}},q=J,G=(a("9336"),a("7496")),z=a("40dc"),H=a("adda"),Q=Object(f["a"])(q,r,s,!1,null,"12d86ac6",null),W=Q.exports;p()(Q,{VApp:G["a"],VAppBar:z["a"],VBtn:$["a"],VCard:I["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VDialog:j["a"],VImg:H["a"],VSpacer:N["a"]});var X=a("9483");Object(X["a"])("".concat("/analoggame-recorder/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Y=a("f309"),Z=a("fcf4");n["a"].use(Y["a"]);var tt=new Y["a"]({theme:{dark:!0,themes:{dark:{primary:Z["a"].red.lighten1},light:{primary:Z["a"].red.lighten1}}}}),et=a("ead5"),at=a.n(et),nt=a("8c4f"),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("v-container",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-img",{attrs:{src:a("cf05"),"aspect-ratio":"1","max-width":"30%","max-height":"30%"}})],1),n("v-row",{staticClass:"pt-6 px-8",attrs:{align:"center",justify:"center"}},[n("p",{attrs:{align:"center"}},[t._v("ゲーム大会の結果を記録することができます"),n("br"),t._v(" 記録は開催会別に日付ごとに点数を保存できます"),n("br"),t._v(" 順位では記録できませんが、順位に応じた点数を記録することで、疑似的に記録することもできます ")])]),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"px-6"},[n("v-select",{attrs:{items:t.tournaments,"return-object":"","prepend-icon":"casino",disabled:0==t.tournaments.length},on:{change:function(t){}},model:{value:t.selectedTournament,callback:function(e){t.selectedTournament=e},expression:"selectedTournament"}}),n("v-btn",{attrs:{color:"primary",block:"",disabled:0==t.tournaments.length},on:{click:t.openTournament}},[t._v("選択")])],1)],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"px-6"},[n("v-btn",{attrs:{color:"warning",block:""},on:{click:t.createTournament}},[t._v("新しく大会を作成")])],1)],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"px-6"},[n("v-btn",{attrs:{color:"secondary",block:"",disabled:0==t.tournaments.length},on:{click:t.deleteBtnAction}},[t._v("データ削除")])],1)],1),n("v-dialog",{model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("新規大会作成")]),n("v-text-field",{staticClass:"px-4",attrs:{width:"100",placeholder:"大会名"},model:{value:t.newTournament,callback:function(e){t.newTournament=e},expression:"newTournament"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:t.createAction}},[t._v("作成")])],1)],1)],1),n("v-dialog",{model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("大会削除")]),n("v-select",{staticClass:"px-6",attrs:{items:t.tournaments,"return-object":"","prepend-icon":"casino",disabled:0==t.tournaments.length},on:{change:function(t){}},model:{value:t.deleteTournamentName,callback:function(e){t.deleteTournamentName=e},expression:"deleteTournamentName"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error"},on:{click:t.deleteTournament}},[t._v("削除")]),n("v-btn",{attrs:{color:"warning"},on:{click:t.deleteCancel}},[t._v("キャンセル")])],1)],1)],1),n("v-dialog",{model:{value:t.deletedDataDialog,callback:function(e){t.deletedDataDialog=e},expression:"deletedDataDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("削除完了")]),n("v-card-text",[t._v("大会「"+t._s(this.deleteTournamentName)+"」を削除しました")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"success"},on:{click:t.okBtnAction}},[t._v("OK")])],1)],1)],1),n("v-dialog",{model:{value:t.registDialog,callback:function(e){t.registDialog=e},expression:"registDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("データ登録")]),n("v-card-text",[t._v("共有された記録を保存しますか？")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.registDialog=!1}}},[t._v("キャンセル")]),n("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.registerBtnAction()}}},[t._v("保存する")])],1)],1)],1),n("v-dialog",{model:{value:t.registedDialog,callback:function(e){t.registedDialog=e},expression:"registedDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("登録完了")]),n("v-card-text",[t._v("データを保存しました")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"success"},on:{click:function(e){t.registedDialog=!1}}},[t._v("OK")])],1)],1)],1)],1)],1)},st=[],ot=(a("4de4"),{data:function(){return{tournaments:[],selectedTournament:"",create:!1,newTournament:"",deleteDialog:!1,deleteTournamentName:"",deletedDataDialog:!1,registDialog:!1,registData:"",registDataKey:"",registedDialog:!1}},mounted:function(){this.tournaments=this.$localStorage.get("TournamentList",[]),0!=this.tournaments.length&&(this.selectedTournament=this.tournaments[0]),this.$route.query.share_data&&(this.registData=this.$route.query.share_data,this.registDataKey=this.$route.query.share_key,this.registDialog=!0)},watch:{deleteDialog:function(){this.deletedDataDialog||(this.deleteTournamentName="")}},methods:{openTournament:function(){this.$router.push({name:"Main",params:{tournament:this.selectedTournament}})},createTournament:function(){this.create=!0},createAction:function(){this.create=!1,this.tournaments.push(this.newTournament),this.$localStorage.set("TournamentList",this.tournaments),this.$router.push({name:"Main",params:{tournament:this.newTournament,newTournament:!0}})},deleteBtnAction:function(){this.deleteDialog=!0},deleteCancel:function(){this.deleteDialog=!1},deleteTournament:function(){var t=this;this.tournaments=this.tournaments.filter((function(e){return e!=t.deleteTournamentName})),this.$localStorage.set("TournamentList",this.tournaments),this.deleteDialog=!1,""!=this.deleteTournamentName&&(this.deletedDataDialog=!0)},okBtnAction:function(){this.deletedDataDialog=!1,this.deleteTournamentName=""},registerBtnAction:function(){this.registDialog=!1,console.log(it(this.registData)),console.log(it(this.registDataKey)),this.$localStorage.set(this.registDataKey,this.registData),this.registedDialog=!0}}});function it(t){return t=decodeURIComponent(t),t=atob(t),t=RawDeflate.inflate(t),t=decodeURIComponent(t),t}var ct=ot,lt=a("8654"),dt=Object(f["a"])(ct,rt,st,!1,null,"ffa4f1e6",null),ut=dt.exports;p()(dt,{VBtn:$["a"],VCard:I["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:b["a"],VContainer:x["a"],VContent:F["a"],VDialog:j["a"],VImg:H["a"],VRow:D["a"],VSelect:k["a"],VSpacer:N["a"],VTextField:lt["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{attrs:{id:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex px-4",attrs:{cols:"12",sm:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-combobox",t._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{locale:"jp-ja","no-title":"","day-format":function(t){return new Date(t).getDate()},"allowed-dates":t.allowedDates},on:{input:function(e){t.menu2=!1}},model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}})],1)],1),a("v-col",{staticClass:"d-flex px-2",attrs:{cols:"12",sm:"6"}},[a("v-simple-table",{attrs:{"fixed-header":"",height:"auto",width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{"white-space":"nowrap"},attrs:{width:"150"}},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Score")])])]),a("tbody",t._l(t.index,(function(e){return a("tr",[a("td",[a("v-select",{attrs:{items:t.users},on:{change:function(t){}},model:{value:t.selectedUser[e-1],callback:function(a){t.$set(t.selectedUser,e-1,a)},expression:"selectedUser[i-1]"}})],1),a("td",[a("v-text-field",{style:{width:"100%"},attrs:{type:"number"},model:{value:t.resultScores[e-1],callback:function(a){t.$set(t.resultScores,e-1,a)},expression:"resultScores[i-1]"}})],1),a("td",{staticClass:"removeBtn",attrs:{width:"44"}},[e==t.index?a("v-btn",{attrs:{text:"",icon:""},on:{click:t.removeBtnAction}},[a("v-icon",[t._v("remove_circle")])],1):t._e()],1)])})),0)]},proxy:!0}])})],1)],1),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("新規登録")]),a("v-card-text",[t._v("名前を入力してください")]),a("v-text-field",{staticClass:"d-flex px-6",model:{value:t.addUserLabel,callback:function(e){t.addUserLabel=e},expression:"addUserLabel"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){return t.dialogCancel()}}},[t._v("キャンセル")]),a("v-btn",{attrs:{text:"",color:"success"},on:{click:t.userAddBtn}},[t._v("追加")])],1)],1)],1),a("v-dialog",{model:{value:t.registDialog,callback:function(e){t.registDialog=e},expression:"registDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("登録完了")]),a("v-card-text",[t._v("新しいデータを記録しました")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"success"},on:{click:t.okBtnAction}},[t._v("OK")])],1)],1)],1),a("v-dialog",{model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("登録失敗")]),a("v-card-text",[t._v("データが正しくありません")]),a("v-card-text",[t._v("日付やデータがすべて入力されているか確認してください")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){t.errorDialog=!1}}},[t._v("OK")])],1)],1)],1)],1),a("v-container",{attrs:{id:"add"}},[a("v-layout",{},[a("v-flex",{staticClass:"px-6"},[a("v-btn",{attrs:{color:"primary",block:""},on:{click:t.addBtnAction}},[t._v("ユーザー追加")])],1),a("v-flex",{staticClass:"px-10"},[a("v-btn",{attrs:{color:"success",block:""},on:{click:t.registerBtnAction}},[t._v("データ保存")])],1)],1)],1)],1)},vt=[],mt=(a("a623"),a("a434"),a("0d03"),a("a9e3"),a("9129"),a("1276"),{data:function(t){return{date:(new Date).toLocaleDateString().substr(0,10),dateFormatted:t.formatDate((new Date).toLocaleDateString().substr(0,10)),menu2:!1,users:[],selectedUser:[""],datePicker:t.formatDatePicker(),label:"",index:1,dialog:!1,selectedUserIndex:0,addUserLabel:"",resultScores:[0],registDialog:!1,tournament:"",gameDates:[],errorDialog:!1}},computed:{computedDateFormatted:function(){return this.formatDate(this.date)}},watch:{date:function(t){this.dateFormatted=this.formatDate(this.date)},datePicker:function(t){var e=t.split("-"),a=Object(d["a"])(e,3),n=a[0],r=a[1],s=a[2],o=new Date(n,r-1,s);this.dateFormatted=this.formatDate(o.toLocaleDateString().substr(0,10))},selectedUser:function(t){this.selectedUserIndex=this.selectedUser.indexOf("新規作成"),this.selectedUserIndex>=0&&(this.selectedUser.splice(this.selectedUserIndex,1,""),this.dialog=!0)}},mounted:function(){this.tournament=this.$route.params.tournament;var t=JSON.parse(this.$localStorage.get(this.tournament,"[]"));this.users=t.reduce((function(t,e){var a=e.result.reduce((function(t,e){return t.push(e.name),t}),[]);return t=t.concat(a.filter((function(e){return-1==t.indexOf(e)}))),t}),[]).concat(["新規作成"]),this.gameDates=t.map((function(t){return t.date}))},methods:{formatDate:function(t){if(!t)return null;var e=t.split("/"),a=Object(d["a"])(e,3),n=a[0],r=a[1],s=a[2],o=new Date(n,r-1,s),i=["日","月","火","水","木","金","土"];return"".concat(n,"/").concat(r,"/").concat(s," (").concat(i[o.getDay()],")")},formatDatePicker:function(){var t=(new Date).toLocaleDateString().substr(0,10).split("/"),e=Object(d["a"])(t,3),a=e[0],n=e[1],r=e[2];return"".concat(a,"-").concat(n,"-").concat(r)},addBtnAction:function(){this.index++,this.selectedUser.push(""),this.resultScores.push(0)},removeBtnAction:function(){1!=this.index&&(this.index--,this.selectedUser.length--,this.resultScores.length--)},userAddBtn:function(){this.users.splice(this.users.length-1,1,this.addUserLabel),this.users.push("新規作成"),this.selectedUser.splice(this.selectedUserIndex,1,this.addUserLabel),this.selectedUserIndex=0,this.dialog=!1,this.addUserLabel=""},dialogCancel:function(){this.addUserLabel="",this.selectedUserIndex=0,this.dialog=!1},registerBtnAction:function(){var t=this,e={date:this.datePicker.replace(/-/g,"/"),result:this.selectedUser.map((function(e,a){return{name:e,score:parseInt(t.resultScores[a])}}))};if(-1==this.gameDates.indexOf(e.date)&&0!=e.result.length)if(e.result&&e.result.every((function(t){return""!=t.name&&!Number.isNaN(t.score)}))){var a=JSON.parse(this.$localStorage.get(this.tournament,"[]"));this.$localStorage.set(this.tournament,JSON.stringify(a.concat(e))),this.registDialog=!0}else this.errorDialog=!0;else this.errorDialog=!0},okBtnAction:function(){this.registDialog=!1,this.$router.replace({name:"Main",params:{tournament:this.tournament}})},allowedDates:function(t){if(-1==this.gameDates.indexOf(t.replace(/-/g,"/")))return!0}}}),ft=mt,gt=(a("aa75"),a("2b5d")),pt=a("2e4b"),bt=a("0e8f"),xt=a("132d"),Dt=a("a722"),kt=a("e449"),_t=Object(f["a"])(ft,ht,vt,!1,null,null,null),yt=_t.exports;p()(_t,{VBtn:$["a"],VCard:I["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:b["a"],VCombobox:gt["a"],VContainer:x["a"],VContent:F["a"],VDatePicker:pt["a"],VDialog:j["a"],VFlex:bt["a"],VIcon:xt["a"],VLayout:Dt["a"],VMenu:kt["a"],VRow:D["a"],VSelect:k["a"],VSimpleTable:_["a"],VSpacer:N["a"],VTextField:lt["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{attrs:{id:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.gameDates,"return-object":"","prepend-icon":"event"},on:{change:function(t){}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1),a("v-col",{staticClass:"d-flex px-2",attrs:{cols:"12",sm:"6"}},[a("v-simple-table",{attrs:{"fixed-header":"",height:"auto",width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{"white-space":"nowrap"},attrs:{width:"150"}},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Score")])])]),a("tbody",t._l(t.index,(function(e){return a("tr",[a("td",[a("v-select",{attrs:{items:t.users},on:{change:function(t){}},model:{value:t.selectedUser[e-1],callback:function(a){t.$set(t.selectedUser,e-1,a)},expression:"selectedUser[i-1]"}})],1),a("td",[a("v-text-field",{style:{width:"100%"},attrs:{type:"number"},model:{value:t.resultScores[e-1],callback:function(a){t.$set(t.resultScores,e-1,a)},expression:"resultScores[i-1]"}})],1),a("td",{staticClass:"removeBtn",attrs:{width:"44"}},[e==t.index?a("v-btn",{attrs:{text:"",icon:""},on:{click:t.removeBtnAction}},[a("v-icon",[t._v("remove_circle")])],1):t._e()],1)])})),0)]},proxy:!0}])})],1)],1),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("新規登録")]),a("v-card-text",[t._v("名前を入力してください")]),a("v-text-field",{staticClass:"d-flex px-6",model:{value:t.addUserLabel,callback:function(e){t.addUserLabel=e},expression:"addUserLabel"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){return t.dialogCancel()}}},[t._v("キャンセル")]),a("v-btn",{attrs:{text:"",color:"success"},on:{click:t.userAddBtn}},[t._v("追加")])],1)],1)],1),a("v-dialog",{model:{value:t.registDialog,callback:function(e){t.registDialog=e},expression:"registDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("編集完了")]),a("v-card-text",[t._v("データを保存しました")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"success"},on:{click:t.okBtnAction}},[t._v("OK")])],1)],1)],1),a("v-dialog",{model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("登録失敗")]),a("v-card-text",[t._v("データが正しくありません")]),a("v-card-text",[t._v("日付やデータがすべて入力されているか確認してください")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){t.errorDialog=!1}}},[t._v("OK")])],1)],1)],1)],1),a("v-container",{attrs:{id:"add"}},[a("v-layout",{},[a("v-flex",{staticClass:"px-6"},[a("v-btn",{attrs:{color:"primary",block:""},on:{click:t.addBtnAction}},[t._v("ユーザー追加")])],1),a("v-flex",{staticClass:"px-10"},[a("v-btn",{attrs:{color:"success",block:""},on:{click:t.registerBtnAction}},[t._v("データ保存")])],1)],1)],1)],1)},Ct=[],St={data:function(t){return{users:[],selectedUser:[""],label:"",index:1,dialog:!1,selectedUserIndex:0,addUserLabel:"",resultScores:[0],registDialog:!1,gameDates:[],selectedDate:"",dateIndex:0,resultAll:[],tournament:"",errorDialog:!1}},computed:{},watch:{selectedUser:function(t){this.selectedUserIndex=this.selectedUser.indexOf("新規作成"),this.selectedUserIndex>=0&&(this.selectedUser.splice(this.selectedUserIndex,1,""),this.dialog=!0)},selectedDate:function(t){this.dateIndex=this.gameDates.indexOf(t),console.log(this.dateIndex),this.selectedDate=this.gameDates[this.dateIndex],this.selectedUser=this.resultAll[this.dateIndex].result.map((function(t){return t.name})),this.resultScores=this.resultAll[this.dateIndex].result.map((function(t){return t.score})),this.index=this.selectedUser.length}},mounted:function(){this.tournament=this.$route.params.tournament,this.resultAll=JSON.parse(this.$localStorage.get(this.tournament,"[]")),this.users=this.resultAll.reduce((function(t,e){var a=e.result.reduce((function(t,e){return t.push(e.name),t}),[]);return t=t.concat(a.filter((function(e){return-1==t.indexOf(e)}))),t}),[]).concat(["新規作成"]),this.gameDates=this.resultAll.map((function(t){return t.date})),this.dateIndex=0,this.selectedDate=this.gameDates[this.dateIndex],this.selectedUser=this.resultAll[this.dateIndex].result.map((function(t){return t.name})),this.resultScores=this.resultAll[this.dateIndex].result.map((function(t){return t.score})),this.index=this.selectedUser.length},methods:{addBtnAction:function(){this.index++,this.selectedUser.push(""),this.resultScores.push(0)},removeBtnAction:function(){1!=this.index&&(this.index--,this.selectedUser.length--,this.resultScores.length--)},userAddBtn:function(){this.users.splice(this.users.length-1,1,this.addUserLabel),this.users.push("新規作成"),this.selectedUser.splice(this.selectedUserIndex,1,this.addUserLabel),this.selectedUserIndex=0,this.dialog=!1,this.addUserLabel=""},dialogCancel:function(){this.addUserLabel="",this.selectedUserIndex=0,this.dialog=!1},registerBtnAction:function(){var t=this,e={date:this.selectedDate,result:this.selectedUser.map((function(e,a){return{name:e,score:parseInt(t.resultScores[a])}}))};if(0!=e.result.length)if(e.result&&e.result.every((function(t){return""!=t.name&&!Number.isNaN(t.score)}))){var a=JSON.parse(this.$localStorage.get(this.tournament,"[]"));a[this.dateIndex]=e,this.$localStorage.set(this.tournament,JSON.stringify(a)),this.registDialog=!0}else this.errorDialog=!0;else this.errorDialog=!0},okBtnAction:function(){this.registDialog=!1,this.$router.replace({name:"Main",params:{tournament:this.tournament}})}}},Vt=St,Tt=(a("0ad7"),Object(f["a"])(Vt,wt,Ct,!1,null,null,null)),Ut=Tt.exports;p()(Tt,{VBtn:$["a"],VCard:I["a"],VCardActions:B["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:b["a"],VContainer:x["a"],VContent:F["a"],VDialog:j["a"],VFlex:bt["a"],VIcon:xt["a"],VLayout:Dt["a"],VRow:D["a"],VSelect:k["a"],VSimpleTable:_["a"],VSpacer:N["a"],VTextField:lt["a"]}),n["a"].use(nt["a"]);var At=[{path:"/",name:"Top",component:ut},{path:"/Input",name:"Input",component:yt},{path:"/Edit",name:"Edit",component:Ut},{path:"/Main",name:"Main",component:K}],Ot=new nt["a"]({mode:"history",base:"/analoggame-recorder/",routes:At}),$t=Ot;n["a"].config.productionTip=!1,n["a"].use(at.a),new n["a"]({vuetify:tt,render:function(t){return t(W)},router:$t,serverCacheKey:!1,localStorage:{resultOfDate:{type:Object},TournamentList:{type:Array}}}).$mount("#app")},9336:function(t,e,a){"use strict";var n=a("e718"),r=a.n(n);r.a},"93da":function(t,e,a){},aa75:function(t,e,a){"use strict";var n=a("93da"),r=a.n(n);r.a},c75f:function(t,e,a){t.exports=a.p+"img/icon-edit-1.bd38b6b2.png"},cf05:function(t,e,a){t.exports=a.p+"img/logo.0993262f.png"},d919:function(t,e,a){},dc8c:function(t,e,a){},e718:function(t,e,a){}});